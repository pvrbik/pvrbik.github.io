\documentclass[12pt]{article}
\usepackage{fancyvrb,enumerate}
\usepackage{fancyvrb}
\usepackage{vaucanson-g}

\usepackage{cancel}

\include{header}

\newcommand{\powerset}{\mathcal{P}}
\renewcommand{\iff}{\Leftrightarrow}

\title{CS 3331a - Assignment 4 - Solutions}
\author{Paul Vrbik}
\date{December 7, 2009}

\begin{document}

%FOR GRAPHS
\input{VCPref-mystyle} 
\ShowFrame %\ShowGrid 
%END FOR GRAPHS

\maketitle
\subsection*{Question 1 - $20$ - marks}
Give a regular grammar for each of the following languages:
\begin{enumerate}
\item[(1)] $L_1 = \{ 0^i1^j | i,j \geq 0 \}$.
\begin{align*}
S &\rightarrow \varepsilon \BAR A \BAR 0S \\
A &\rightarrow \varepsilon \BAR 1A
\end{align*}
\item[(2)] $L_2$ is the set of all words over $\Sigma = \{a,b\}$ of even length.
\begin{align*}
S &\rightarrow \varepsilon \BAR aA \BAR bA \\
A &\rightarrow aS \BAR bS
\end{align*}
\item[(3)] $L_3$ is the set of all binary numbers divisible by $3$. (\small{\emph{Note: $L_3$ is generated by following DFA.}})

\begin{center}
\begin{VCPicture}{(-1,-1.5)(6,2)}
% states
\SmallState
%\FinalState{(0,0)}{A}\State{(1.5,1)}{B}\State{(1.5,-1)}{C}\FinalState{(3,1)}{D}\State{(3,-1)}{E}\FinalState{(4.5,-1)}{F}
\FinalState{(0,0)}{S}\State[A]{(2,0)}{A}\State[B]{(4,0)}{B}
% initial--final
\Initial{S}
% transitions 
\LoopN{S}{0}
\ArcL{S}{A}{1}
\ArcL{A}{B}{0}
\LoopE{B}{1}

\ArcL{B}{A}{0}
\ArcL{A}{S}{1}

\end{VCPicture}
\end{center}

\begin{align*}
S &\rightarrow \varepsilon \BAR 0S \BAR 1A \\
A &\rightarrow 0B \BAR 1S \\
B &\rightarrow 1B \BAR 0A 
\end{align*}

\end{enumerate}
%%% END QUESTION 1%%%


%%%QUESTION 2%%%
\subsection*{Question 2 - $20$ marks}

Change the CFG into an equivalent CFG in Chomsky normal form:

\begin{align*}
&\hspace{-.75cm}\text{1. Reduction } & &\hspace{-.75cm}\text{2i. Remove $\varepsilon$-productions}\\
&\hspace{-.75cm}\text{Nonterminals = $\{C\}$} 		& & \hspace{-.75cm}\text{$\varepsilon$-nonterminals $=\{A \rightarrow \varepsilon, B \rightarrow \varepsilon \}$}\\
&\hspace{-.75cm}\text{Unreachable = $\{E,F\}$} 	& & \hspace{-.75cm}\text{Remove $A \rightarrow \varepsilon$}\\
S & \rightarrow aAB \BAR \cancel{bBBC} 		&  S &\rightarrow aAB \BAR aB \\
A & \rightarrow aB \BAR D \BAR \varepsilon	&  A &\rightarrow aB \BAR D \\
D & \rightarrow AB 						&  D &\rightarrow AB \BAR B \\
B & \rightarrow bA \BAR \varepsilon			&  B &\rightarrow bA \BAR b \BAR \varepsilon \\
\cancel{C} & \rightarrow aC				&  \\
\cancel{E} & \rightarrow cB				&  \\
\cancel{F} & \rightarrow bAA \BAR \varepsilon	&  \\
& & & \\
&\hspace{-.75cm}\text{2ii. Remove $B \rightarrow \varepsilon$} & &\hspace{-.75cm}\text{3. Remove Unit $A \rightarrow D$ and Reduce}\\
S & \rightarrow aAB \BAR aA \BAR aB \BAR a	&  S & \rightarrow aAB \BAR aA \BAR aB \BAR a \\
A & \rightarrow a \BAR aB \BAR D 			&  A &\rightarrow a \BAR aB \BAR AB \BAR aB \BAR bA \BAR b \\
D & \rightarrow AB \BAR A \BAR B			&  B &\rightarrow bA \BAR b \\
B & \rightarrow bA \BAR b				&  \\
& & &\\
&\hspace{-.75cm}\text{4. Remove Long production $S \rightarrow aAB$} & &\hspace{-.75cm}\text{5. Convert to Chomsky normal form}\\
S & \rightarrow aT \BAR aA \BAR aB \BAR a	&  S & \rightarrow \bar{a}T \BAR \bar{a}A \BAR \bar{a}B \BAR \bar{a} \\
T & \rightarrow AB												&  T & \rightarrow AB \\
A &\rightarrow a \BAR aB \BAR AB \BAR aB \BAR bA \BAR b		&  A &\rightarrow \bar{a} \BAR \bar{a}B \BAR AB \BAR \bar{a}B \BAR \bar{b}A \BAR \bar{b} \\
B & \rightarrow bA \BAR b				&  B &\rightarrow \bar{b}A \BAR \bar{b} \\
&									&  \bar{a} &\rightarrow a \\
&									&  \bar{b} &\rightarrow b
\end{align*}


%%%END QUESTION 2%%%

%%%QUESTION 3%%%
\clearpage
\subsection*{Question 3 - $20$ marks}
Construct a \emph{deterministic} pushdown automaton that accepts all words in $\{a,b\}^*$ such that the number of $a$'s is one less than the number of $b$'s. (Both numbers are greater than or equal to zero.)

\begin{center}
\begin{VCPicture}{(-1,-2.5)(12.5,1.5)}
\SmallState
\State{(0,0)}{S} \State{(3,0)}{A} \FinalState{(6,0)}{B} \State{(9,0)}{C}

\Initial{S}

\EdgeL{S}{A}{ \small{  \begin{array}{l} a,Z_0/AAZ_0 \\ b,Z_0/Z_0 \end{array} } }

\ArcL{A}{B}{ \small{ \lambda, Z_0/Z_0} }
\ArcL{B}{A}{ \small{ a, Z_0/AZ_0} }

\ArcL{B}{C}{ \small{ b, Z_0/BZ_0} }
\ArcL{C}{B}{ \small{ \lambda, Z_0/Z_0} }

\LoopE{C}{  \small{  \begin{array}{l} a,B/\lambda \\ b,B/BB \end{array} }  }

\LoopS{A}{  \small{  \begin{array}{l} b,A/\lambda \\ a,A/AA \end{array} }  }

\end{VCPicture}
\end{center}

%%%END QUESTION 3%%%

%%%QUESTION 4%%%
\subsection*{Question 4 - $20$ marks}
Construct a pushdown automaton to accept the language $\{a^ib^i | i>0 \} \cup \{ a^i b^{2i} | i>0 \}.$\\

The machine below accepts the required language by ``final state''.
\begin{center}
\begin{VCPicture}{(-2,-4)(7.5,4)}
% states
\SmallState
\State{(-0.5,0)}{S} \State{(1.5,-2)}{A} \State{(1.5,2)}{B} \State{(4,-2)}{C} \State{(4,2)}{D} \FinalState{(6,0)}{E} %\State{(8.5,0)}{F}
% initial--final
\Initial{S}
% transitions 

\LoopN{B}{ \small{a,A/AA} }
\LoopN{D}{ \small{b,A/\lambda} }

\LoopS{A}{ \small{a,A/AAA} }
\LoopS{C}{ \small{b,A/\lambda} }

\EdgeR{C}{E}{ \small{\lambda,Z_0/Z_0} }
\EdgeL{D}{E}{ \small{\lambda,Z_0/Z_0} }

\EdgeR{B}{D}{ \small{b,A/\lambda} }
\EdgeL{A}{C}{ \small{b,A/\lambda} }

\EdgeL{S}{B}{ \small{a,Z_0/AZ_0} }
\EdgeR{S}{A}{ \small{a,Z_0/AAZ_0} }

%\EdgeR{E}{F}{ \small{b,Z_0/Z_0} }

\end{VCPicture}
\end{center}

%%%END QUESTION4%%%

%%%QUESTION5%%%
\subsection*{Question 5 - $20$ marks}
Use the pumping lemma for context-free languages to show that $L = \{ ww | w \in \{0,1\}^* \}$ is \emph{not} a context-free language.

\emph{This question is precisely Example 7.21 of the textbook (p. 285 or p. 279). As a full solution is provided there I will omit it here.}


%%%END QUESTION5%%%
\clearpage
%%%QUESTION6%%%
\subsection*{Question 6 (Bonus) - $10$ marks}
Give a context-free grammar that generates the set of all words, over the alphabet $\Sigma = \{a,b\}$, that are not of the form $ww$ for any word $w \in \Sigma^*$.
\begin{align*}
S &\rightarrow A \BAR B \BAR AB \BAR BA \\
A &\rightarrow CAC \BAR a \\
B &\rightarrow CBC \BAR b \\
C &\rightarrow a \BAR b
\end{align*}

%%%END QUESTION6%%%
\center{\emph{Good luck on your exam everyone! Have a great holiday!}}

\PutEnd
\end{document}